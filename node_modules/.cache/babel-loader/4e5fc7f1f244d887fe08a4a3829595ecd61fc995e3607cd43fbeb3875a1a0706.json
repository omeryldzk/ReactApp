{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link,useNavigate}from'react-router-dom';import api from'../api';import'../static/UserList.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserList=()=>{const[users,setUsers]=useState([]);// Initialize as an empty array\nconst navigate=useNavigate();useEffect(()=>{api.get('/users').then(response=>{console.log(response.data);// Log the response to check structure\nsetUsers(response.data);}).catch(error=>console.error(error));},[]);const handleCreateUser=()=>{navigate('/users/new');};const handleDelete=id=>{if(window.confirm('Are you sure you want to delete this user?')){api.delete(`/users/${id}`).then(()=>{setUsers(users.filter(user=>user.id!==id));// Filter out deleted user\n}).catch(error=>console.error('Error deleting user:',error));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4\",children:\"Users\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group\",children:Array.isArray(users)&&users.length>0?users.map(user=>/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[user.firstName,\" \",user.lastName,\" - \",user.email]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:`/users/${user.id}`,className:\"btn btn-primary btn-sm mr-2\",children:\"Details\"}),/*#__PURE__*/_jsx(Link,{to:`/users/${user.id}/accounts`,className:\"btn btn-secondary btn-sm mr-2\",children:\"Accounts\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(user.id),className:\"btn btn-danger btn-sm\",children:\"Delete\"})]})]},user.id)):/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:\"No users found\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateUser,className:\"btn btn-success mt-4\",children:\"Create New User\"})]});};export default UserList;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","api","jsx","_jsx","jsxs","_jsxs","UserList","users","setUsers","navigate","get","then","response","console","log","data","catch","error","handleCreateUser","handleDelete","id","window","confirm","delete","filter","user","className","children","Array","isArray","length","map","firstName","lastName","email","to","onClick"],"sources":["/Users/omeryildiz/Desktop/cloud_front/ReactApp/src/components/UserList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport api from '../api';\nimport '../static/UserList.css';\n\nconst UserList = () => {\n  const [users, setUsers] = useState([]); // Initialize as an empty array\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    api.get('/users')\n      .then(response => {\n        console.log(response.data); // Log the response to check structure\n        setUsers(response.data);\n      })\n      .catch(error => console.error(error));\n  }, []);\n\n  const handleCreateUser = () => {\n    navigate('/users/new');\n  };\n\n  const handleDelete = (id) => {\n    if (window.confirm('Are you sure you want to delete this user?')) {\n      api.delete(`/users/${id}`)\n        .then(() => {\n          setUsers(users.filter(user => user.id !== id)); // Filter out deleted user\n        })\n        .catch(error => console.error('Error deleting user:', error));\n    }\n  };\n\n  return (\n    <div className=\"container mt-4\">\n      <h2 className=\"mb-4\">Users</h2>\n      <ul className=\"list-group\">\n        {Array.isArray(users) && users.length > 0 ? (\n          users.map(user => (\n            <li key={user.id} className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <span>{user.firstName} {user.lastName} - {user.email}</span>\n              <div>\n                <Link to={`/users/${user.id}`} className=\"btn btn-primary btn-sm mr-2\">Details</Link>\n                <Link to={`/users/${user.id}/accounts`} className=\"btn btn-secondary btn-sm mr-2\">Accounts</Link>\n                <button onClick={() => handleDelete(user.id)} className=\"btn btn-danger btn-sm\">Delete</button>\n              </div>\n            </li>\n          ))\n        ) : (\n          <li className=\"list-group-item\">No users found</li>\n        )}\n      </ul>\n      <button onClick={handleCreateUser} className=\"btn btn-success mt-4\">Create New User</button>\n    </div>\n  );\n};\n\nexport default UserList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}